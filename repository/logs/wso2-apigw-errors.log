2021-12-24T01:46:35,796 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN ApplicationManagementServiceComponent Templates directory not found at /home/wso2carbon/wso2am-4.0.0/repository/resources/identity/authntemplates
2021-12-24T01:47:34,250 [-] [Timer-6]  WARN AppDeployerServiceComponent Waiting for required OSGi services: org.wso2.carbon.application.deployer.synapse.service.SynapseAppDeployerService,org.wso2.carbon.mediation.initializer.services.SynapseEnvironmentService,
2021-12-24T01:47:34,324 [-] [Timer-7]  WARN StartupFinalizerServiceComponent Waiting for required OSGi services: org.wso2.carbon.application.deployer.service.CappDeploymentService,org.wso2.carbon.server.admin.common.IServerAdmin,org.wso2.carbon.throttling.agent.ThrottlingAgent,
2021-12-24T01:48:18,026 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,034 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,035 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,042 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,045 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,046 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,046 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,047 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,048 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,051 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:18,052 [-] [Framework Event Dispatcher: Equinox Container: e5adb744-188c-41b0-9906-5da5111f7ce6]  WARN SSLUtilBase jsseUtil.trustedCertNotValid
2021-12-24T01:48:26,420 [-] [Thread-46]  WARN JMSListener Polling tasks on destination : notification of type topic for listener Siddhi-JMS-Consumer#notification have not yet started after 3 seconds ..
2021-12-24T01:48:26,445 [-] [Thread-47]  WARN JMSListener Polling tasks on destination : keyManager of type topic for listener Siddhi-JMS-Consumer#keyManager have not yet started after 3 seconds ..
2021-12-24T01:48:28,265 [-] [Thread-80]  WARN JMSListener Polling tasks on destination : cacheInvalidation of type topic for listener Siddhi-JMS-Consumer#cacheInvalidation have not yet started after 3 seconds ..
2021-12-24T01:48:28,281 [-] [Thread-83]  WARN JMSListener Polling tasks on destination : notification of type topic for listener Siddhi-JMS-Consumer#notification have not yet started after 3 seconds ..
2021-12-24T01:48:28,323 [-] [Thread-87]  WARN JMSListener Polling tasks on destination : asyncWebhooksData of type topic for listener Siddhi-JMS-Consumer#asyncWebhooksData have not yet started after 3 seconds ..
2021-12-24T01:48:28,365 [-] [Thread-76]  WARN JMSListener Polling tasks on destination : tokenRevocation of type topic for listener Siddhi-JMS-Consumer#tokenRevocation have not yet started after 3 seconds ..
2021-12-24T01:48:28,390 [-] [Thread-75]  WARN JMSListener Polling tasks on destination : throttleData of type topic for listener Siddhi-JMS-Consumer#throttleData have not yet started after 3 seconds ..
2021-12-24T01:57:48,960 [-] [Start Level: Equinox Container: bf5107cc-bab6-4929-84a1-9aa784fc886f] ERROR DefaultRealm nullType class java.lang.reflect.InvocationTargetException
org.wso2.carbon.user.core.UserStoreException: nullType class java.lang.reflect.InvocationTargetException
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:404) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:231) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:136) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:276) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.<init>(DefaultRealmService.java:102) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.<init>(DefaultRealmService.java:115) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.internal.Activator.startDeploy(Activator.java:72) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.internal.BundleCheckActivator.start(BundleCheckActivator.java:61) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:842) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:1) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at java.security.AccessController.doPrivileged(Native Method) [?:?]
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:834) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:791) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1013) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:365) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.Module.doStart(Module.java:598) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.Module.start(Module.java:462) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$1.run(ModuleContainer.java:1820) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$2$1.execute(EquinoxContainerAdaptor.java:150) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1813) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1770) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1735) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1661) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
Caused by: java.lang.reflect.InvocationTargetException
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:358) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 25 more
Caused by: org.wso2.carbon.user.core.UserStoreException: DB error occurred while persisting domain : PRIMARY & tenant id : -1234
	at org.wso2.carbon.user.core.util.UserCoreUtil.persistDomain(UserCoreUtil.java:882) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.AbstractUserStoreManager.persistDomain(AbstractUserStoreManager.java:9023) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:319) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:261) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.UniqueIDJDBCUserStoreManager.<init>(UniqueIDJDBCUserStoreManager.java:129) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:358) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 25 more
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-199]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:617) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:427) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.message.DbException.get(DbException.java:194) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine$Store.convertIllegalStateException(MVTableEngine.java:193) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:173) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:95) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.getPageStore(Database.java:2739) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.open(Database.java:769) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.openDatabase(Database.java:319) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.<init>(Database.java:313) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.openSession(Engine.java:69) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.openSession(Engine.java:201) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:178) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSession(Engine.java:161) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSession(Engine.java:31) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:336) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:169) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:148) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.Driver.connect(Driver.java:69) ~[h2_1.4.199.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:744) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:676) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.wso2.carbon.user.core.util.DatabaseUtil.getDBConnection(DatabaseUtil.java:1058) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.util.UserCoreUtil.persistDomain(UserCoreUtil.java:862) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.AbstractUserStoreManager.persistDomain(AbstractUserStoreManager.java:9023) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:319) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:261) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.UniqueIDJDBCUserStoreManager.<init>(UniqueIDJDBCUserStoreManager.java:129) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:358) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 25 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:/home/wso2carbon/wso2am-4.0.0/repository/database/WSO2SHARED_DB.mv.db [1.4.199/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:883) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.FileStore.open(FileStore.java:172) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.MVStore.<init>(MVStore.java:390) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:3343) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:162) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:95) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.getPageStore(Database.java:2739) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.open(Database.java:769) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.openDatabase(Database.java:319) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.<init>(Database.java:313) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.openSession(Engine.java:69) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.openSession(Engine.java:201) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:178) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSession(Engine.java:161) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSession(Engine.java:31) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:336) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:169) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:148) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.Driver.connect(Driver.java:69) ~[h2_1.4.199.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:744) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:676) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.wso2.carbon.user.core.util.DatabaseUtil.getDBConnection(DatabaseUtil.java:1058) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.util.UserCoreUtil.persistDomain(UserCoreUtil.java:862) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.AbstractUserStoreManager.persistDomain(AbstractUserStoreManager.java:9023) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:319) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:261) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.UniqueIDJDBCUserStoreManager.<init>(UniqueIDJDBCUserStoreManager.java:129) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:358) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 25 more
2021-12-24T01:57:49,045 [-] [Start Level: Equinox Container: bf5107cc-bab6-4929-84a1-9aa784fc886f] ERROR Activator Cannot start User Manager Core bundle
org.wso2.carbon.user.core.UserStoreException: Cannot initialize the realm.
	at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:286) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.<init>(DefaultRealmService.java:102) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.<init>(DefaultRealmService.java:115) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.internal.Activator.startDeploy(Activator.java:72) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.internal.BundleCheckActivator.start(BundleCheckActivator.java:61) [org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:842) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:1) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at java.security.AccessController.doPrivileged(Native Method) [?:?]
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:834) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:791) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1013) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:365) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.Module.doStart(Module.java:598) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.Module.start(Module.java:462) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$1.run(ModuleContainer.java:1820) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$2$1.execute(EquinoxContainerAdaptor.java:150) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1813) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1770) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1735) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1661) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345) [org.eclipse.osgi_3.14.0.v20190517-1309.jar:?]
Caused by: org.wso2.carbon.user.core.UserStoreException: nullType class java.lang.reflect.InvocationTargetException
	at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:325) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:136) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:276) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 22 more
Caused by: org.wso2.carbon.user.core.UserStoreException: nullType class java.lang.reflect.InvocationTargetException
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:404) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:231) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:136) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:276) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 22 more
Caused by: java.lang.reflect.InvocationTargetException
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:358) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:231) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:136) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:276) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 22 more
Caused by: org.wso2.carbon.user.core.UserStoreException: DB error occurred while persisting domain : PRIMARY & tenant id : -1234
	at org.wso2.carbon.user.core.util.UserCoreUtil.persistDomain(UserCoreUtil.java:882) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.AbstractUserStoreManager.persistDomain(AbstractUserStoreManager.java:9023) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:319) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:261) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.UniqueIDJDBCUserStoreManager.<init>(UniqueIDJDBCUserStoreManager.java:129) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:358) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:231) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:136) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:276) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 22 more
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database may be already in use: null. Possible solutions: close all other connection(s); use the server mode [90020-199]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:617) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:427) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.message.DbException.get(DbException.java:194) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine$Store.convertIllegalStateException(MVTableEngine.java:193) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:173) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:95) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.getPageStore(Database.java:2739) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.open(Database.java:769) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.openDatabase(Database.java:319) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.<init>(Database.java:313) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.openSession(Engine.java:69) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.openSession(Engine.java:201) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:178) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSession(Engine.java:161) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSession(Engine.java:31) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:336) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:169) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:148) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.Driver.connect(Driver.java:69) ~[h2_1.4.199.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:744) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:676) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.wso2.carbon.user.core.util.DatabaseUtil.getDBConnection(DatabaseUtil.java:1058) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.util.UserCoreUtil.persistDomain(UserCoreUtil.java:862) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.AbstractUserStoreManager.persistDomain(AbstractUserStoreManager.java:9023) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:319) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:261) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.UniqueIDJDBCUserStoreManager.<init>(UniqueIDJDBCUserStoreManager.java:129) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:358) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:231) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:136) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:276) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 22 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:/home/wso2carbon/wso2am-4.0.0/repository/database/WSO2SHARED_DB.mv.db [1.4.199/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:883) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.FileStore.open(FileStore.java:172) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.MVStore.<init>(MVStore.java:390) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:3343) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:162) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:95) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.getPageStore(Database.java:2739) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.open(Database.java:769) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.openDatabase(Database.java:319) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Database.<init>(Database.java:313) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.openSession(Engine.java:69) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.openSession(Engine.java:201) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:178) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSession(Engine.java:161) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.Engine.createSession(Engine.java:31) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:336) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:169) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:148) ~[h2_1.4.199.wso2v1.jar:?]
	at org.h2.Driver.connect(Driver.java:69) ~[h2_1.4.199.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:744) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:676) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[jdbc-pool_9.0.35.wso2v1.jar:?]
	at org.wso2.carbon.user.core.util.DatabaseUtil.getDBConnection(DatabaseUtil.java:1058) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.util.UserCoreUtil.persistDomain(UserCoreUtil.java:862) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.AbstractUserStoreManager.persistDomain(AbstractUserStoreManager.java:9023) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:319) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.JDBCUserStoreManager.<init>(JDBCUserStoreManager.java:261) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.jdbc.UniqueIDJDBCUserStoreManager.<init>(UniqueIDJDBCUserStoreManager.java:129) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]
	at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:358) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:231) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:136) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:276) ~[org.wso2.carbon.user.core_4.6.2.jar:?]
	... 22 more
